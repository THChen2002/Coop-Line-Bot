{% extends "base.html" %}

{% block title %}å¾…è¾¦äº‹é …è¡¨å–®{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/todo_list.css') }}">
{% endblock %}

{% block content %}
<div class="container">
  <div class="card">
    <h1>ğŸ“ å¾…è¾¦äº‹é …</h1>
    <p class="subtitle" id="formSubtitle">æ–°å¢å¾…è¾¦äº‹é …</p>

    <form id="todoForm">
      <div class="form-group">
        <label for="title">æ¨™é¡Œ *</label>
        <input type="text" id="title" placeholder="è«‹è¼¸å…¥å¾…è¾¦äº‹é …æ¨™é¡Œ" required>
      </div>

      <div class="form-group">
        <label for="description">æè¿°</label>
        <textarea id="description" rows="3" placeholder="è©³ç´°èªªæ˜ï¼ˆé¸å¡«ï¼‰"></textarea>
      </div>

      <div class="form-group">
        <label for="category">é¡åˆ¥</label>
        <select id="category">
          <option value="ä¸€èˆ¬">ä¸€èˆ¬</option>
          <option value="å·¥ä½œ">å·¥ä½œ</option>
          <option value="å­¸ç¿’">å­¸ç¿’</option>
          <option value="ç”Ÿæ´»">ç”Ÿæ´»</option>
          <option value="è³¼ç‰©">è³¼ç‰©</option>
          <option value="å…¶ä»–">å…¶ä»–</option>
        </select>
      </div>

      <div class="form-group">
        <label>å„ªå…ˆåº¦</label>
        <div class="radio-group">
          <div class="radio-btn">
            <input type="radio" id="priority-low" name="priority" value="low">
            <label for="priority-low">ä½</label>
          </div>
          <div class="radio-btn">
            <input type="radio" id="priority-medium" name="priority" value="medium" checked>
            <label for="priority-medium">ä¸­</label>
          </div>
          <div class="radio-btn">
            <input type="radio" id="priority-high" name="priority" value="high">
            <label for="priority-high">é«˜</label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="assignee">è² è²¬äºº</label>
        <select id="assignee">
          <option value="">æœªåˆ†é…</option>
          {% for member in members %}
          <option value="{{ member.id }}">{{ member.name }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label for="dueDate">åˆ°æœŸæ—¥</label>
        <input type="date" id="dueDate">
      </div>

      <div class="form-group">
        <label>ç‹€æ…‹</label>
        <div class="radio-group">
          <div class="radio-btn">
            <input type="radio" id="status-pending" name="status" value="pending" checked>
            <label for="status-pending">å¾…è™•ç†</label>
          </div>
          <div class="radio-btn">
            <input type="radio" id="status-in-progress" name="status" value="in_progress">
            <label for="status-in-progress">é€²è¡Œä¸­</label>
          </div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary btn-block" id="submitBtn">ç¢ºèªé€å‡º</button>
    </form>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/todo_form.js') }}"></script>
<script>
  window.GROUP_ID = '{{ group_id }}';
  window.onload = function () {
    initTodoForm('{{ liff_id }}');
  };
</script>
{% endblock %}